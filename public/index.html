<html>
    <head>
        <title>Tic tac toe</title>
        <link href='style.css' rel='stylesheet'>
        <script src='/socket.io/socket.io.js'></script>
    </head>

    <body>

        <div id='gameBox'>
            <div id='p1Box'>
                <div id='p1Piece'></div>
                <div id='p1Name'>??</div>
            </div>
            <div id='p2Box'>
                <div id='p2Piece'></div>
                <div id='p2Name'>??</div>
            </div>
            <div id='gridBox'>
                <img src='/img/grid.png' alt='grid' width='300' height='300'>
            </div>

            <table id='moveBox'>
                <tr>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                </tr>
                <tr>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                </tr>
                <tr>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                    <td><button type="button">O</button></td>
                </tr>
            </table>

            <div id='msgBox'>
                Waiting for players...
            </div>
        </div>

    </body>
</html>





<script>

const socket = io();


socket.on('p1Turn', function() {

})


// =================================================================
// Player 1
// =================================================================

// Player 1 joined - setup page and wait for P2
socket.on('p1-joinWaitForP2', function() {
    console.log('change my game state to waiting for P2');

    // Setup player 1 data
    document.getElementById('p1Name').innerHTML = "YOU";
    document.getElementById('p1Piece').innerHTML = "<img src='/img/circle.png' alt='circle' width='100' height='100'>"
    document.getElementById('msgBox').innerHTML = "Waiting for player 2";
});

// Player 2 finally joined - setup page
socket.on('p1-p2Join', function() {
    console.log('Player 2 joined...');

    // Setup player 2 data
    document.getElementById('p2Name').innerHTML = "THEM";
    document.getElementById('p2Piece').innerHTML = "<img src='/img/cross.png' alt='cross' width='100' height='100'>"
    document.getElementById('msgBox').innerHTML = "Game beginning soon..."
});

// =================================================================
// Player 2
// =================================================================

// Player 2 joined - setup page and wait for game to begin
socket.on('p2-joinWaitForGame', function() {
    console.log('You joined as player 2!!');

    // Setup player 1 and player 2 data
    document.getElementById('p1Name').innerHTML = "YOU";
    document.getElementById('p1Piece').innerHTML = "<img src='/img/cross.png' alt='cross' width='100' height='100'>"

    document.getElementById('p2Name').innerHTML = "THEM";
    document.getElementById('p2Piece').innerHTML = "<img src='/img/circle.png' alt='circle' width='100' height='100'>"

    document.getElementById('msgBox').innerHTML = "Game beginning soon...";
})



</script>